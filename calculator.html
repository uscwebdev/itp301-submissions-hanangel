<!DOCTYPE html>
<html>
<head>
	<title>Assignment 03: JS Calculator</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">

	<style>
		#display {
			font-size: 2em;
		}
	</style>
</head>
<body>
	<div class="container">
		<div class="row">
			<h1 class="col-12 text-center mt-5">JS Calculator</h1>
		</div> <!-- .row -->
		<div class="row">
			<div id="calculator" class="mt-4 col-12 col-md-6 ml-md-auto mr-md-auto col-lg-4">
				<div class="row">
					<input type="text" id="display" class="col-12 text-right form-control" value="0">
				</div> <!-- .row -->
				<div class="row">
					<button id="calc-ac" class="col-9 btn btn-lg btn-outline-dark">AC</button>
					<button id="calc-div" class="col-3 btn btn-lg btn-outline-dark">/</button>
				</div> <!-- .row -->
				<div class="row">
					<button id="b7" class="col-3 btn btn-lg btn-outline-dark">7</button>
					<button id="b8" class="col-3 btn btn-lg btn-outline-dark">8</button>
					<button id="b9" class="col-3 btn btn-lg btn-outline-dark">9</button>
					<button id="calc-mult" class="col-3 btn btn-lg btn-outline-dark">x</button>
				</div> <!-- .row -->
				<div class="row">
					<button id="b4" class="col-3 btn btn-lg btn-outline-dark">4</button>
					<button id="b5" class="col-3 btn btn-lg btn-outline-dark">5</button>
					<button id="b6" class="col-3 btn btn-lg btn-outline-dark">6</button>
					<button id="calc-sub" class="col-3 btn btn-lg btn-outline-dark">-</button>
				</div> <!-- .row -->
				<div class="row">
					<button id="b1" class="col-3 btn btn-lg btn-outline-dark">1</button>
					<button id="b2" class="col-3 btn btn-lg btn-outline-dark">2</button>
					<button id="b3" class="col-3 btn btn-lg btn-outline-dark">3</button>
					<button id="calc-add" class="col-3 btn btn-lg btn-outline-dark">+</button>
				</div> <!-- .row -->
				<div class="row">
					<button id="b0" class="col-6 btn btn-lg btn-outline-dark">0</button>
					<button id="bdec" class="col-3 btn btn-lg btn-outline-dark">.</button>
					<button id="calc-equal" class="col-3 btn btn-lg btn-outline-dark">=</button>
				</div> <!-- .row -->
			</div> <!-- #calculator -->
		</div> <!-- .row -->
	</div> <!-- .container -->

	<script>

		/*

		1. store the initial value in a global variable

		2. user enters number into the input field

		3. user presses an operation button

			a. save the operation in a variable
			b. clear input field
			c. user enters in the next number

		4. user presses the '=' button
			a. if statement - depending on the operation the calculation is performed
			b. user can press 'ac' to clear everything

		*/


		var num1 = ""; // 1st num
		var num2 = ""; // 2nd num
		var operation; // variable for +, -. x, /

		var dec; // decimal operation (store decimal in a variable)
		dec = document.querySelector("#bdec").innerHTML;
		console.log(dec);

		// user enters first number - get numeric value from button (innerHTML)
		document.querySelector('#b0').onclick = function(){ // once button is clicked
			numx = (document.querySelector("#b0").innerHTML); // store number (string) in variable
			num1 = num1+numx; // concatenate the original num1 variable and the new variable to allow for multidigit entries
			document.querySelector('#display').value = num1; // display new value
		}
		document.querySelector('#b1').onclick = function(){
			numx = (document.querySelector("#b1").innerHTML);
			num1 = num1+numx;
			document.querySelector('#display').value = num1;
		}
		document.querySelector('#b2').onclick = function(){
			numx = (document.querySelector("#b2").innerHTML);
			num1 = num1+numx;
			document.querySelector('#display').value = num1;
		}
		document.querySelector('#b3').onclick = function(){
			numx = (document.querySelector("#b3").innerHTML);
			num1 = num1+numx;
			document.querySelector('#display').value = num1;
		}
		document.querySelector('#b4').onclick = function(){
			numx = (document.querySelector("#b4").innerHTML);
			num1 = num1+numx;
			document.querySelector('#display').value = num1;
		}
		document.querySelector('#b5').onclick = function(){
			numx = (document.querySelector("#b5").innerHTML);
			num1 = num1+numx;
			document.querySelector('#display').value = num1;
		}
		document.querySelector('#b6').onclick = function(){
			numx = (document.querySelector("#b6").innerHTML);
			num1 = num1+numx;
			document.querySelector('#display').value = num1;
		}
		document.querySelector('#b7').onclick = function(){
			numx = (document.querySelector("#b7").innerHTML);
			num1 = num1+numx;
			document.querySelector('#display').value = num1;
		}
		document.querySelector('#b8').onclick = function(){
			numx = (document.querySelector("#b8").innerHTML);
			num1 = num1+numx;
			document.querySelector('#display').value = num1;
		}
		document.querySelector('#b9').onclick = function(){
			numx = (document.querySelector("#b9").innerHTML);
			num1 = num1+numx;
			document.querySelector('#display').value = num1;
		}

		// for decimal entries
		document.querySelector('#bdec').onclick = function(){ 
			if (num1.includes(".") == true) { // check if the string contains a decimal (period) already
				num1 = num1; // don't change anything; maintain the same number (prevent user from adding additional decimals)
			} else {
				numx = dec; // if no decimal in string yet, allow user to enter decimal point
				num1 = num1+numx; // add the decimal to the number
			}
			document.querySelector('#display').value = num1;
		}

		// 'add' function
		document.querySelector('#calc-add').onclick = function(){

			// parse num1 string into Float or integer
			if (num1.includes(".") == true) { // if the string contains a decimal
				num1 = parseFloat(num1); // parse into Float
			} else {
				num1 = parseInt(num1); // if not, parse into integer
			}
			console.log(num1);

			// save the specified operation
			operation = '+';

			// clear input field
			document.querySelector('#display').value = '0';

			// declare num2 variable for second number
			num2 = "";

			// user enters second number (same process as num1 entry)
			document.querySelector('#b0').onclick = function(){
				numx = (document.querySelector("#b0").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b1').onclick = function(){
				numx = (document.querySelector("#b1").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b2').onclick = function(){
				numx = (document.querySelector("#b2").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b3').onclick = function(){
				numx = (document.querySelector("#b3").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b4').onclick = function(){
				numx = (document.querySelector("#b4").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b5').onclick = function(){
				numx = (document.querySelector("#b5").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b6').onclick = function(){
				numx = (document.querySelector("#b6").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b7').onclick = function(){
				numx = (document.querySelector("#b7").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b8').onclick = function(){
				numx = (document.querySelector("#b8").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b9').onclick = function(){
				numx = (document.querySelector("#b9").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#bdec').onclick = function(){
				if (num2.includes(".") == true) {
					num2 = num2; // don't change anything; maintain the same number
				} else {
					numx = dec;
					num2 = num2+numx; // add the decimal to the number
				}
				document.querySelector('#display').value = num2;
			}
		}

		// 'subtract' function
		document.querySelector('#calc-sub').onclick = function(){
			
			if (num1.includes(".") == true) {
				num1 = parseFloat(num1);
			} else {
				num1 = parseInt(num1);
			}
			console.log(num1);

			// save the specified operation
			operation = '-';

			// clear input field
			document.querySelector('#display').value = '0';

			num2 = "";

			document.querySelector('#b0').onclick = function(){
				numx = (document.querySelector("#b0").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b1').onclick = function(){
				numx = (document.querySelector("#b1").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b2').onclick = function(){
				numx = (document.querySelector("#b2").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b3').onclick = function(){
				numx = (document.querySelector("#b3").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b4').onclick = function(){
				numx = (document.querySelector("#b4").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b5').onclick = function(){
				numx = (document.querySelector("#b5").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b6').onclick = function(){
				numx = (document.querySelector("#b6").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b7').onclick = function(){
				numx = (document.querySelector("#b7").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b8').onclick = function(){
				numx = (document.querySelector("#b8").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b9').onclick = function(){
				numx = (document.querySelector("#b9").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#bdec').onclick = function(){
				if (num2.includes(".") == true) {
					num2 = num2; // don't change anything; maintain the same number
				} else {
					numx = dec;
					num2 = num2+numx; // add the decimal to the number
				}
				document.querySelector('#display').value = num2;
			}
		}

		// 'multiply' function
		document.querySelector('#calc-mult').onclick = function(){
			
			if (num1.includes(".") == true) {
				num1 = parseFloat(num1);
			} else {
				num1 = parseInt(num1);
			}
			console.log(num1);

			// save the specified operation
			operation = 'x';

			// clear input field
			document.querySelector('#display').value = '0';

			num2 = "";

			document.querySelector('#b0').onclick = function(){
				numx = (document.querySelector("#b0").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b1').onclick = function(){
				numx = (document.querySelector("#b1").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b2').onclick = function(){
				numx = (document.querySelector("#b2").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b3').onclick = function(){
				numx = (document.querySelector("#b3").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b4').onclick = function(){
				numx = (document.querySelector("#b4").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b5').onclick = function(){
				numx = (document.querySelector("#b5").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b6').onclick = function(){
				numx = (document.querySelector("#b6").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b7').onclick = function(){
				numx = (document.querySelector("#b7").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b8').onclick = function(){
				numx = (document.querySelector("#b8").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b9').onclick = function(){
				numx = (document.querySelector("#b9").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#bdec').onclick = function(){
				if (num2.includes(".") == true) {
					num2 = num2; // don't change anything; maintain the same number
				} else {
					numx = dec;
					num2 = num2+numx; // add the decimal to the number
				}
				document.querySelector('#display').value = num2;
			}
		}

		// 'divide' function
		document.querySelector('#calc-div').onclick = function(){
			
			if (num1.includes(".") == true) {
				num1 = parseFloat(num1);
			} else {
				num1 = parseInt(num1);
			}

			// save the specified operation
			operation = '/';

			// clear input field
			document.querySelector('#display').value = '0';

			num2 = "";

			document.querySelector('#b0').onclick = function(){
				numx = (document.querySelector("#b0").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b1').onclick = function(){
				numx = (document.querySelector("#b1").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b2').onclick = function(){
				numx = (document.querySelector("#b2").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b3').onclick = function(){
				numx = (document.querySelector("#b3").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b4').onclick = function(){
				numx = (document.querySelector("#b4").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b5').onclick = function(){
				numx = (document.querySelector("#b5").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b6').onclick = function(){
				numx = (document.querySelector("#b6").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b7').onclick = function(){
				numx = (document.querySelector("#b7").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b8').onclick = function(){
				numx = (document.querySelector("#b8").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#b9').onclick = function(){
				numx = (document.querySelector("#b9").innerHTML);
				num2 = num2+numx;
				document.querySelector('#display').value = num2;
			}
			document.querySelector('#bdec').onclick = function(){
				if (num2.includes(".") == true) {
					num2 = num2; // don't change anything; maintain the same number
				} else {
					numx = dec;
					num2 = num2+numx; // add the decimal to the number
				}
				document.querySelector('#display').value = num2;
			}
		}

		// 'ac' function
		document.querySelector('#calc-ac').onclick = function(){

			// clear everything
			document.querySelector('#display').value = "0"; // redisplay 0
			num1 = ""; // clear both num1 and num2 variables
			num2 = "";

			// have user re-enter num1 value to perform a new calculation
			document.querySelector('#b0').onclick = function(){
				numx = (document.querySelector("#b0").innerHTML);
				num1 = num1+numx;
				document.querySelector('#display').value = num1;
			}
			document.querySelector('#b1').onclick = function(){
				numx = (document.querySelector("#b1").innerHTML);
				num1 = num1+numx;
				document.querySelector('#display').value = num1;
			}
			document.querySelector('#b2').onclick = function(){
				numx = (document.querySelector("#b2").innerHTML);
				num1 = num1+numx;
				document.querySelector('#display').value = num1;
			}
			document.querySelector('#b3').onclick = function(){
				numx = (document.querySelector("#b3").innerHTML);
				num1 = num1+numx;
				document.querySelector('#display').value = num1;
			}
			document.querySelector('#b4').onclick = function(){
				numx = (document.querySelector("#b4").innerHTML);
				num1 = num1+numx;
				document.querySelector('#display').value = num1;
			}
			document.querySelector('#b5').onclick = function(){
				numx = (document.querySelector("#b5").innerHTML);
				num1 = num1+numx;
				document.querySelector('#display').value = num1;
			}
			document.querySelector('#b6').onclick = function(){
				numx = (document.querySelector("#b6").innerHTML);
				num1 = num1+numx;
				document.querySelector('#display').value = num1;
			}
			document.querySelector('#b7').onclick = function(){
				numx = (document.querySelector("#b7").innerHTML);
				num1 = num1+numx;
				document.querySelector('#display').value = num1;
			}
			document.querySelector('#b8').onclick = function(){
				numx = (document.querySelector("#b8").innerHTML);
				num1 = num1+numx;
				document.querySelector('#display').value = num1;
			}
			document.querySelector('#b9').onclick = function(){
				numx = (document.querySelector("#b9").innerHTML);
				num1 = num1+numx;
				document.querySelector('#display').value = num1;
			}
			document.querySelector('#bdec').onclick = function(){
				if (num1.includes(".") == true) {
					num1 = num1; // don't change anything; maintain the same number
				} else {
					numx = dec;
					num1 = num1+numx; // add the decimal to the number
				}
				document.querySelector('#display').value = num1;
			}
		}		

		// 'equal' function
		document.querySelector('#calc-equal').onclick = function(){

			// convert num2 to a numeric value (same as num1 conversion)
			if (num2.includes(".") == true) {
				num2 = parseFloat(num2);
			} else {
				num2 = parseInt(num2);
			}

			var result = 'Error';

			// calculate the answer based on the operation specified
			if (operation == '+') {
				result = num1 + num2;
			} else if (operation == '-') {
				result = num1 - num2;
			} else if (operation == 'x') {
				result = num1 * num2;
			} else if (operation == '/') {
				result = num1 / num2;
			}

			// display result
			document.querySelector('#display').value = result;
		}


	</script>
</body>
</html>